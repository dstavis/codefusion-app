<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>codefusion.io</title>
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/monokai.css">
  <link rel="stylesheet" href="css/classroom.css">
  <link href='http://fonts.googleapis.com/css?family=Source+Code+Pro:300,400,500,600,700' rel='stylesheet' type='text/css'>

  <!-- <script src="js/libs/jquery-1.11.1.min.js"></script> -->
  <script src="https://code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="https://cdn.firebase.com/js/client/1.0.15/firebase.js"></script>
  <!-- <script src="js/libs/handlebars-1.1.2.js"></script> -->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.3.0/handlebars.min.js"></script>
  <!-- <script src="js/libs/ember.min.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/ember.js/1.5.1/ember.min.js"></script>
  <script src="js/libs/prettify.small.js"></script>
  <script src="tests/runner.js"></script>

  <script src="js/app.js"></script>
  <script src="js/routes.js"></script>
  <script src="js/views/masterviewcontroller.js"></script>
  <script src="js/views/classroomprettify.js"></script>
  <script src="js/views/redirecttoclassroom.js"></script>
  <script src="js/views/savenotes.js"></script>
  <script src="js/views/mergednotes.js"></script>
  <script src="js/views/note.js"></script>
  <script src="js/controllers/classroomcontroller.js"></script>
  <script src="js/controllers/filecontroller.js"></script>
  <script src="js/controllers/firebasecontroller.js"></script>
  <script src="js/models/classroom.js"></script>
  <script src="js/models/directory.js"></script>
  <script src="js/models/fileholder.js"></script>
  <script src="js/models/noteholder.js"></script>


</head>
<body>
  <script type="text/x-handlebars">
    <header class="main">
      <h1>{{#link-to 'index' }}codefusion.io{{/link-to}}</h1>
    </header>
    <section class="body">

    {{outlet}}

    </section>
    <footer>
    <article>
      <p><strong>codefusion.io</strong> is made for the people, by the people</p>
      <a href="https://github.com/pocket-gophers-2014/codefusion-app" target="_blank"><img src='css/img/GitHub-Mark-32px.png'></a>
      </article>
    </footer>
  </script>

  <script type="text/x-handlebars" id="index">
    <section class="content">
      <article class="column">
        <article id="about"><p><strong>Codefusion</strong> is an app that will change the way you share and communicate code.</p></article>
        <article id="url-form">
          <form>
            <span>Enter classroom code here:</span>
            <input type="text" name="classroom_code">
            <input type="submit" value="Go!" {{#view App.RedirectToClassroom}} {{/view}}
          </form>
        </article>
      </article>
    </section>
  </script>

  <script type="text/x-handlebars" data-template-name="classrooms">
    <h2>classroom_code: {{classroom_code}}</h2>
    {{outlet}}

    <section class="classroom-text">
    </section>
  </script>



  <script type="text/x-handlebars" id="files">
    {{#with model.content}}
      {{partial "_subFolders" }}
    {{/with}}

      {{outlet}}
  </script>

  <script type="text/x-handlebars" id="_subFolders">
    <ul>
      <li id="folder-{{unbound id}}"  > {{folder_name}} </li>
      <ul>
      {{#each this.files }}
        <li>{{#linkTo 'file' file_name }} {{file_name}} {{/linkTo}}</li>
      {{/each}}
      </ul>
      {{#if folders}}
        {{#each i in folders}}
          {{#with i}}
            {{partial "_subFolders" }}
         {{/with}}
        {{/each}}
      {{/if}}
    </ul>
  </script>


  <script type="text/x-handlebars" id="file">
    {{partial "code-view"}}
    {{partial "note-view"}}
  </script>

  <script type="text/x-handlebars" data-template-name='_saveform'>
      {{input id='saveform' placeholder=file_name}}
      <input type="button" value="Save Code with Notes" {{#view App.SaveNotesOnClick}} {{/view}}
  </script>

  <script type="text/x-handlebars" data-template-name="_code-view">
    <article class="code-view text-area file" > Teacher Code
        <table class="code-table">
          <tbody>
            <tr>
              <td class="code"><pre id="code" class="prettyprint">{{model.file_content}}</pre></td>
            </tr>
          </tbody>
        </table>
    </article>
  </script>

  <script type="text/x-handlebars" data-template-name="_note-view">
    <article class="note-view text-area file" > Your Notes
        <table class="note-table">
          <tbody>
            <tr>
              <td class="code">
              <pre class="prettyprint">
              <textarea id="note-area" class="notes" placeholder="Type your notes here..." value="fcgh">
              </textarea>
              </pre></td>
            </tr>
          </tbody>
        </table>
    </article>
  </script>

  <script type="text/x-handlebars" data-template-name="_merged-view" >
    <article class="note-view text-area file" > Code with Notes
        <table class="note-table">
          <tbody>
            <tr>
              <td class="code"><pre id="mergedcontent" class="prettyprint">{{view.mergedContent}}</pre></td>
            </tr>
          </tbody>
        </table>
    </article>
  </script>


</body>
</html>
